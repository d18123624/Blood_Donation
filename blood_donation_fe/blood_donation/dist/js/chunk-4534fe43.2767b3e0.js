(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4534fe43"],{"0a90":function(t,e,n){var r=n("63b6"),s=n("10ff");r(r.G+r.F*(parseFloat!=s),{parseFloat:s})},"10ff":function(t,e,n){var r=n("e53d").parseFloat,s=n("a1ce").trim;t.exports=1/r(n("e692")+"-0")!==-1/0?function(t){var e=s(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},"29e2":function(t,e,n){},"2da1":function(t,e,n){"use strict";var r=n("29e2"),s=n.n(r);s.a},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},4362:function(t,e,n){e.nextTick=function(t){setTimeout(t,0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"44b8":function(t,e,n){"use strict";var r=n("d7de"),s=n.n(r);s.a},5118:function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,s=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(s.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(s.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n("6017"),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("24aa"))},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),s=n("d8e8"),a=n("4bf8"),i=n("79e5"),o=[].sort,c=[1,2,3];r(r.P+r.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!n("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),s(t))}})},"59ad":function(t,e,n){t.exports=n("7be7")},6017:function(t,e,n){(function(t,e){(function(t,n){"use strict";if(!t.setImmediate){var r,s=1,a={},i=!1,o=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?h():m()?p():t.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?v():_(),c.setImmediate=l,c.clearImmediate=u}function l(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return a[s]=i,r(s),s++}function u(t){delete a[t]}function d(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r);break}}function f(t){if(i)setTimeout(f,0,t);else{var e=a[t];if(e){i=!0;try{d(e)}finally{u(t),i=!1}}}}function h(){r=function(t){e.nextTick(function(){f(t)})}}function m(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function p(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&f(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}function g(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;f(e)},r=function(e){t.port2.postMessage(e)}}function v(){var t=o.documentElement;r=function(e){var n=o.createElement("script");n.onreadystatechange=function(){f(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function _(){r=function(t){setTimeout(f,0,t)}}})("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n("24aa"),n("4362"))},"78db":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col s12"},[n("div",{staticClass:"card padding-16 margin-4"},[n("div",{staticClass:"row zero-margin zero-padding valign-wrapper"},[n("div",{staticClass:"col s2 m2 l1"},[n("div",{staticClass:"circle teal valign-wrapper"},[n("span",{staticClass:"font-size-large white-text"},[t._v(t._s(t.bloodgroup))])])]),n("div",{staticClass:"col s10 m10 l11"},[""!=t.name?n("span",{staticClass:"font-size-large teal-text"},[t._v(t._s(t.name))]):t._e(),""!=t.name?n("br"):t._e(),""!=t.age?n("span",{staticClass:"font-size-small"},[t._v(t._s(t.age))]):t._e(),t._v(" \n        "),""!=t.gender?n("span",{staticClass:"font-size-small"},[t._v(t._s(t.gender))]):t._e(),""!=t.age&&""!=t.gender?n("br"):t._e(),"0"==t.where?n("span",{staticClass:"font-size-small"},[t._v(t._s(t.distance))]):t._e(),"0"==t.email?n("br"):t._e(),""!=t.email?n("span",{staticClass:"font-size-small"},[t._v(t._s(t.email))]):t._e()])]),t.isAuthorizedUserSearching&&"0"==t.where?n("div",{staticClass:"row zero-margin zero-padding center"},[""!=t.phonenumber?n("a",{staticClass:"waves-effect waves-light btn margin-top-16",attrs:{href:t.phonehref}},[t._v("Call")]):t._e(),t._v("\n       \n      "),n("a",{staticClass:"waves-effect waves-light btn margin-top-16",on:{click:t.requestForBloodDonation}},[t._v("Request Blood Donation")])]):t._e()])])},s=[],a=(n("7f7f"),{name:"SearchResult",created:function(){M.AutoInit()},props:["result","where"],computed:{isAuthorizedUserSearching:function(){try{return!!this.result.match_person}catch(t){return!1}},latitude:function(){try{return"Latitude: "+this.result.match_person.address_lat}catch(t){return this.result.latitude?"Latitude: "+this.result.latitude:"Latitude: "+this.result.address_lat}},latitudeVal:function(){try{return this.result.match_person.address_lat}catch(t){return this.result.latitude?this.result.latitude:this.result.address_lat}},longitude:function(){try{return"Longitude: "+this.result.match_person.address_long}catch(t){return this.result.longitude?"Longitude: "+this.result.longitude:"Longitude: "+this.result.address_long}},longitudeVal:function(){try{return this.result.match_person.address_long}catch(t){return this.result.longitude?this.result.longitude:this.result.address_long}},distance:function(){return"Distance (metres): "+this.result.distance_in_metres},name:function(){try{return this.result.match_person.name}catch(t){return this.result.name?this.result.name:""}},email:function(){try{return this.result.match_person.email}catch(t){return this.result.email?this.result.email:""}},age:function(){try{return"Age: "+this.result.match_person.age}catch(t){return""}},gender:function(){try{return"Gender: "+("M"===this.result.match_person.gender?"Male":"Female")}catch(t){return""}},bloodgroup:function(){try{return this.result.match_person.blood_group}catch(t){return this.result.blood_group}},phonenumber:function(){try{return"Phone: "+this.result.match_person.mobile_number}catch(t){return this.result.mobile_number?"Phone: "+this.result.mobile_number:""}},phonehref:function(){try{return"tel:"+this.result.match_person.mobile_number}catch(t){return""}}},methods:{requestForBloodDonation:function(){var t={search_match_donation_id:this.result.id};this.$store.dispatch("requestForBloodDonation",t).then(function(t){M.toast({html:t})})}}}),i=a,o=(n("2da1"),n("2877")),c=Object(o["a"])(i,r,s,!1,null,"30f4695d",null);e["a"]=c.exports},"7be7":function(t,e,n){n("0a90"),t.exports=n("584a").parseFloat},"7f7f":function(t,e,n){var r=n("86cc").f,s=Function.prototype,a=/^\s*function ([^ (]*)/,i="name";i in s||n("9e1e")&&r(s,i,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},a1ce:function(t,e,n){var r=n("63b6"),s=n("25eb"),a=n("294c"),i=n("e692"),o="["+i+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,n){var s={},o=a(function(){return!!i[t]()||c[t]()!=c}),l=s[t]=o?e(f):i[t];n&&(s[n]=l),r(r.P+r.F*o,"String",s)},f=d.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c106:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container relative search-component-wrapper"},[t.loading?n("div",{staticClass:"progress preloader-wrapper"},[n("div",{staticClass:"indeterminate"})]):t._e(),n("div",{staticClass:"row zero-margin zero-padding"},[n("div",{staticClass:"input-field col s5"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchmaxdistancemetres,expression:"searchmaxdistancemetres"}],staticClass:"active",attrs:{id:"searchmaxdistancemetres",type:"number"},domProps:{value:t.searchmaxdistancemetres},on:{input:function(e){e.target.composing||(t.searchmaxdistancemetres=e.target.value)}}}),n("label",{attrs:{for:"searchmaxdistancemetres"}},[t._v("Search radius (m)")]),""!=t.distanceerror?n("span",{staticClass:"left left-align red-text font-size-little"},[t._v(t._s(t.distanceerror))]):t._e()]),n("div",{staticClass:"input-field col s5"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.patientbloodgroup,expression:"patientbloodgroup"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.patientbloodgroup=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose")]),n("option",{attrs:{value:"A+",selected:""}},[t._v("A+")]),n("option",{attrs:{value:"A-"}},[t._v("A-")]),n("option",{attrs:{value:"B+"}},[t._v("B+")]),n("option",{attrs:{value:"B-"}},[t._v("B-")]),n("option",{attrs:{value:"AB+"}},[t._v("AB+")]),n("option",{attrs:{value:"AB-"}},[t._v("AB-")]),n("option",{attrs:{value:"O+"}},[t._v("O+")]),n("option",{attrs:{value:"O-"}},[t._v("O-")])]),n("label",[t._v("Patient blood group")]),""!=t.bloodgrouperror?n("span",{staticClass:"left left-align red-text font-size-little"},[t._v(t._s(t.bloodgrouperror))]):t._e()]),n("div",{staticClass:"col s2 center"},[n("a",{staticClass:"btn-floating btn-large waves-effect waves-light",on:{click:t.search}},[n("i",{staticClass:"material-icons"},[t._v("search")])])])]),t.isLoadedOneTime?n("div",{staticClass:"row center"},["0"!=t.searchCount?n("span",{staticClass:"font-size-large"},[t._v("Search Results ("+t._s(t.searchCount)+" results)")]):n("span",{staticClass:"font-size-large"},[t._v("No results")])]):t._e(),0!=t.searchResults.length?n("div",{staticClass:"row"},t._l(t.searchResults,function(t){return n("SearchResult",{key:t.id,attrs:{result:t,where:"0"}})}),1):t._e()])},s=[],a=(n("ac6a"),n("59ad")),i=n.n(a),o=(n("55dd"),n("78db")),c=n("5118"),l={name:"Search",data:function(){return{searchmaxdistancemetres:6e3,patientbloodgroup:"",loading:!1,searchResults:[],distanceerror:"",bloodgrouperror:"",searchCount:0,isLoadedOneTime:!1}},components:{SearchResult:o["a"]},computed:{location:function(){return this.$store.state.searchMarkers[0].position}},methods:{search:function(){var t=this,e=!1;if(""==this.location.lat&&(this.laterror="Latitude cannot be empty!",e=!0),""==this.location.lng&&(this.lngerror="Longitude cannot be empty!",e=!0),""==this.searchmaxdistancemetres&&(this.distanceerror="Distance cannot be empty!",e=!0),""==this.patientbloodgroup&&(this.bloodgrouperror="Select blood group!",e=!0),!e){this.distanceerror="",this.bloodgrouperror="",this.loading=!0;var n={search_lat:this.location.lat,search_long:this.location.lng,search_max_distance_metres:this.searchmaxdistancemetres,blood_group_patient:this.patientbloodgroup};this.$store.dispatch("search",n).then(function(e){if(e.error)t.distanceerror=e.error_message;else{t.searchResults=e.person_matches,t.searchResults.sort(function(t,e){return i()(t.distance_in_metres)-i()(e.distance_in_metres)}),t.searchResults=t.searchResults.slice(0,10),t.searchCount=e.no_of_matches;var n=[];n.push({position:{lat:t.location.lat,lng:t.location.lng}}),t.searchResults.forEach(function(t){var e,r;try{r=i()(t.match_person.address_long)}catch(s){r=t.longitude?i()(t.longitude):i()(t.address_long)}try{e=i()(t.match_person.address_lat)}catch(a){e=t.latitude?i()(t.latitude):i()(t.address_lat)}n.push({position:{lat:e,lng:r}})}),t.$store.commit("setSearchMarkers",{newPoints:n})}t.loading=!1,t.isLoadedOneTime=!0,Object(c["setTimeout"])(function(){M.AutoInit(),M.updateTextFields()},100)})}}},mounted:function(){M.AutoInit(),M.updateTextFields();var t=[];t.push({position:{lat:53.35014,lng:-6.266155}}),this.$store.commit("setSearchMarkers",{newPoints:t}),this.$store.commit("setMapCenter",{mapCenter:{lat:53.35014,lng:-6.266155}})}},u=l,d=(n("44b8"),n("2877")),f=Object(d["a"])(u,r,s,!1,null,"cfb91c88",null);e["default"]=f.exports},d7de:function(t,e,n){},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var s=t[r];"."===s?t.splice(r,1):".."===s?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return r.exec(t).slice(1)};function a(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var i=s>=0?arguments[s]:t.cwd();if("string"!==typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,r="/"===i.charAt(0))}return e=n(a(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===i(t,-1);return t=n(a(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(a(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var s=r(t.split("/")),a=r(n.split("/")),i=Math.min(s.length,a.length),o=i,c=0;c<i;c++)if(s[c]!==a[c]){o=c;break}var l=[];for(c=o;c<s.length;c++)l.push("..");return l=l.concat(a.slice(o)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=s(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=s(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return s(t)[3]};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-4534fe43.2767b3e0.js.map